<div class="d-flex justify-content-center mt-4">
    <nav aria-label="Page navigation">
        <ul class="pagination flex-wrap">
            {# Get all current request query arguments #}
            {% set args = request.args.to_dict() %}

            {# Previous Page Link #}
            <li class="page-item {% if page <= 1 %}disabled{% endif %}">
                {% do args.update({'page': page - 1}) %}
                <a class="page-link" href="{{ url_for(pagination_endpoint, folder_id=current_folder_id if 'folders' in pagination_endpoint else none, **args) }}">Previous</a>
            </li>

            {# Page Number Links #}
            {% for p in range(1, total_pages + 1) %}
                <li class="page-item {% if p == page %}active{% endif %}">
                    {% do args.update({'page': p}) %}
                    <a class="page-link" href="{{ url_for(pagination_endpoint, folder_id=current_folder_id if 'folders' in pagination_endpoint else none, **args) }}">{{ p }}</a>
                </li>
            {% endfor %}

            {# Next Page Link #}
            <li class="page-item {% if page >= total_pages %}disabled{% endif %}">
                {% do args.update({'page': page + 1}) %}
                <a class="page-link" href="{{ url_for(pagination_endpoint, folder_id=current_folder_id if 'folders' in pagination_endpoint else none, **args) }}">Next</a>
            </li>
        </ul>
    </nav>
</div>